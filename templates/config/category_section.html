<!-- Configuration Category Section Template -->
<div class="config-section" id="section-{{ category.value }}">
    <div class="section-header" onclick="toggleSection('{{ category.value }}')" 
         onkeydown="handleKeyDown(event, '{{ category.value }}')"
         role="button" tabindex="0" aria-expanded="false">
        <div class="section-title">
            <span class="section-icon">{{ icon }}</span>
            <div>
                <h3>{{ title }}</h3>
                <div class="section-description">{{ description }}</div>
            </div>
        </div>
        <span class="section-toggle">‚ñ∂</span>
    </div>
    
    <div class="section-content" id="section-{{ category.value }}">
        <div class="config-grid">
            {% for field in fields %}
            <div class="config-item" data-config-key="{{ field.key }}">
                <label for="{{ field.key }}" class="config-label">
                    {{ field.description }}
                    {% if field.is_required %}
                        <span class="required-asterisk">*</span>
                    {% endif %}
                </label>
                
                {% if field.help_text %}
                    <div class="config-help">{{ field.help_text }}</div>
                {% endif %}
                
                <div class="input-container">
                    {% if field.type.value == 'boolean' %}
                        <label class="switch">
                            <input type="checkbox" 
                                   id="{{ field.key }}" 
                                   name="{{ field.key }}" 
                                   {% if field.value %}checked{% endif %}
                                   onchange="markConfigChanged('{{ field.key }}')">
                            <span class="slider"></span>
                        </label>
                    {% elif field.type.value == 'password' %}
                        <input type="password" 
                               id="{{ field.key }}" 
                               name="{{ field.key }}" 
                               value="{{ field.value if not field.is_sensitive else '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢' }}"
                               placeholder="Enter {{ field.description.lower() }}"
                               {% if field.is_required %}required{% endif %}
                               oninput="markConfigChanged('{{ field.key }}')"
                               class="config-input password-input">
                        <button type="button" 
                                class="password-toggle" 
                                onclick="togglePassword('{{ field.key }}')">
                            üëÅÔ∏è
                        </button>
                    {% elif field.type.value == 'number' %}
                        <input type="number" 
                               id="{{ field.key }}" 
                               name="{{ field.key }}" 
                               value="{{ field.value }}"
                               placeholder="Enter {{ field.description.lower() }}"
                               {% if field.is_required %}required{% endif %}
                               oninput="markConfigChanged('{{ field.key }}')"
                               class="config-input">
                    {% else %}
                        <input type="{{ 'email' if field.type.value == 'email' else 'url' if field.type.value == 'url' else 'tel' if field.type.value == 'phone' else 'text' }}" 
                               id="{{ field.key }}" 
                               name="{{ field.key }}" 
                               value="{{ field.value }}"
                               placeholder="Enter {{ field.description.lower() }}"
                               {% if field.is_required %}required{% endif %}
                               oninput="markConfigChanged('{{ field.key }}')"
                               class="config-input">
                    {% endif %}
                </div>
                
                <div class="validation-message" id="validation-{{ field.key }}"></div>
            </div>
            {% endfor %}
        </div>
        
        <!-- Category Actions -->
        <div class="category-actions">
            <button onclick="testConfiguration('{{ category.value }}')" class="test-btn">
                üß™ Test {{ title }}
            </button>
            <button onclick="resetCategory('{{ category.value }}')" class="reset-btn">
                üîÑ Reset Category
            </button>
        </div>
    </div>
</div>
